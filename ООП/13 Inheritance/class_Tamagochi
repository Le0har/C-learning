#include <iostream>
#include <string>

class Tamagochi {
private:
    std::string sound;
public:
    std::string name;
    int age;
    std::string breed;

    void voice()
    {
        std::cout << "sound = " << sound << std::endl;
    }

    void play()
    {
        std::cout << "Играю " << std::endl;
    }

    void setSound(std::string mysound)
    {
        sound = mysound;
    }

    Tamagochi(std::string name = "Нет имени", int age = 0, std::string breed = "Нет породы",
              std::string sound = " "): name(name), age(age), breed(breed)
    {
        setSound(sound);
    }

};

class Cat: public Tamagochi {

public:
    static int countCat;

    struct Toy {
    std::string color;
    std::string shape;
    };

    Toy* favoriteToys = new Toy[10];

    Cat(): Tamagochi("Нет имени", 0, "Нет породы", "Мяу!")
    {
        countCat++;
    }

    Cat(std::string name, int age, std::string breed): Tamagochi(name, age, breed, "Мяу!")
    {
        countCat++;
    }

    Cat(const Cat& c): name(c.name), age(c.age), breed(c.breed), favoriteToys(new Toy[10])
    {
        for(int i=0; i<10; i++)
        {
            favoriteToys[i].color = c.favoriteToys[i].color;
            favoriteToys[i].shape = c.favoriteToys[i].shape;
        }
        countCat++;
    }

    Cat& operator=(const Cat& c)
    {
        if(this == &c)
        {
            return *this;
        }
        name = c.name;
        age = c.age;
        breed = c.breed;
        delete[] favoriteToys;
        favoriteToys = new Toy[10];
        for(int i=0; i<10; i++)
        {
            favoriteToys[i].color = c.favoriteToys[i].color;
            favoriteToys[i].shape = c.favoriteToys[i].shape;
        }
        return *this;
    }

    ~Cat()
    {
        delete[] favoriteToys;
        countCat--;
    }
};

int Cat::countCat = 0;

int main() {

    Cat murka("Мурка", 4, "Британская короткошёрстная");

    std::cout << "Имя: " << murka.name << std::endl;
    std::cout << "Возраст: " << murka.age << std::endl;
    std::cout << "Порода: " << murka.breed << std::endl;
    murka.voice();

    Cat barsik;

    std::cout << "Имя: " << barsik.name << std::endl;
    std::cout << "Возраст: " << barsik.age << std::endl;
    std::cout << "Порода: " << barsik.breed << std::endl;
    barsik.voice();

    std::cout << "Количество кошек = " << Cat::countCat << std::endl;

    return 0;
}
